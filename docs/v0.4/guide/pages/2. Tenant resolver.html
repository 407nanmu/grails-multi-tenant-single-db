<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>2. Tenant resolver</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    You can see a naive implementation of this interface below. 
Your application will probably look this information up from a database.<p class="paragraph"/><div class="code"><pre>class CachingTenantDomainResolver <span class="java&#45;keyword">implements</span> TenantResolver &#123;<p class="paragraph"/>    @Override
    <span class="java&#45;keyword">public</span> <span class="java&#45;object">int</span> resolve(HttpServletRequest request) &#123;
        <span class="java&#45;object">String</span> host = request.getServerName();
        <span class="java&#45;keyword">switch</span> (host) &#123;
            <span class="java&#45;keyword">case</span> <span class="java&#45;quote">"customer&#45;a.com"</span>:
                <span class="java&#45;keyword">return</span> 1<p class="paragraph"/>            <span class="java&#45;keyword">case</span> <span class="java&#45;quote">"customer&#45;b.com"</span>:
                <span class="java&#45;keyword">return</span> 2<p class="paragraph"/>            <span class="java&#45;keyword">default</span>:
                <span class="java&#45;keyword">return</span> <span class="java&#45;keyword">null</span>
        &#125;
    &#125;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/><blockquote class="note">
Error handling is subject to change. We're still looking for a "best practice". 
</blockquote>
    </body>
</html>
